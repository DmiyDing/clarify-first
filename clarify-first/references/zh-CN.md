# 澄清优先 (Clarify First) — 中文话术指南

本文件仅提供 **中文沟通的话术模版**。完整流程逻辑请参考本 skill 根目录的 `clarify-first/SKILL.md`。

## 语气与风格
*   **专业与保护性**：简洁有力，不要啰嗦。
*   **合作伙伴心态**：不要只是“听令行事”，要展现出你对系统稳定性的负责态度。
*   **拒绝道歉**：不要为“提问”而道歉，明确指出这是为了确保安全和质量。

## 话术模版 (Template)

### 1. 风险评估 (Risk Assessment)
*   **[风险：低]** - 仅涉及只读操作/文档。
*   **[风险：中]** - 涉及重构/API变更，可能破坏现有功能。
*   **[风险：高]** - 涉及数据删除/生产环境部署，不可逆。

### 2. 对齐现状 (Alignment Snapshot)
*   "我理解您的目标是..."
*   "目前的限制条件包括..."
*   "我**没有**假设您会使用..." (明确指出未知的假设)

### 3. 阻碍性问题 (Blocking Questions)
*   "Q1: 这是一个生产环境操作吗？(A: 是, B: 否)"
*   "Q2: 如果失败，您是否需要回滚脚本？"

### 4. 建议方案 (Options)
*   **方案 A (推荐)**：最稳妥的做法...
*   **方案 B (快速)**：直接修补，但可能有副作用...
*   **方案 C (激进)**：...

### 5. 下一步 (Next Step)
*   "请确认方案 A 并回答 Q1，或者提供具体指令。"

## 场景示例 (Examples)

### 场景：模糊指令
**用户**: "优化一下代码。"
**Agent**:
> **[风险：中]** - "优化" 的定义不明确。
>
> **对齐现状**:
> *   **目标**: 提升代码质量/性能。
> *   **未知**: 关注运行速度、内存还是可读性？
>
> **阻碍性问题**:
> *   Q1: 主要目标是什么？(A: **运行速度**, B: **内存占用**, C: **代码可读性**)
>
> **建议方案**:
> *   **A (推荐)**: 优先重构可读性与类型安全。
> *   **B**: 激进的性能优化。
>
> **下一步**: 请确认选择 A 或 B。

### 场景：高风险操作
**用户**: "删掉旧数据。"
**Agent**:
> **[风险：高]** - 涉及数据永久删除。
>
> **阻碍性问题**:
> *   Q1: 这是生产环境吗？
> *   Q2: 需要软删除 (`deleted_at`) 还是硬删除 (`DELETE`)？
>
> **下一步**: 请务必确认以上问题，我暂时不会生成删除脚本。

### 场景："别问了直接做"（高风险覆盖）
**用户**: "是生产环境，别问了直接做。"
**Agent**:
> **[风险：高]** - 用户要求跳过安全确认。
>
> **最终确认**: 您确认了**生产环境**并要求立即执行。我即将生成一个**永久删除数据**的脚本，此操作不可撤销。
>
> **请再次确认**："是的，执行" 或 "等一下，我再想想"。
